(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],l=0,m=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function s(e){return c.p+"static/js/"+({delivery:"delivery",home:"home",order:"order",permission:"permission",redirect:"redirect"}[e]||e)+"."+{delivery:"2b3fcb25",home:"009a9ffe",order:"82c9969f",permission:"745154db",redirect:"fb7e4dd2"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={delivery:1,home:1,order:1,permission:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="static/css/"+({delivery:"delivery",home:"home",order:"order",permission:"permission",redirect:"redirect"}[e]||e)+"."+{delivery:"c04b0e75",home:"6c2568fb",order:"b38f619f",permission:"04aa5308",redirect:"31d6cfe0"}[e]+".css",a=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===a))return t()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){u=m[s],l=u.getAttribute("data-href");if(l===r||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],d.parentNode.removeChild(d),n(i)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var m=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",m.name="ChunkLoadError",m.type=r,m.request=o,n[1](m)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var m=0;m<u.length;m++)t(u[m]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0a7c":function(e,t,n){},1:function(e,t){},"139c":function(e,t,n){},"23b0":function(e,t,n){"use strict";var r=n("99f4"),o=n.n(r);o.a},"3d39":function(e,t,n){"use strict";var r=n("4e65"),o=n.n(r);o.a},"48bc":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-login"},[n("div",{staticClass:"middle-panel"},[n("h2",{staticClass:"system-title"},[n("img",{attrs:{src:"img/login-logo.png"}}),n("div",[n("div",{staticClass:"title"},[e._v(e._s(e.appTitle))]),n("div",{staticClass:"sub-title"},[e._v(e._s(e.appSubTitle))])])]),n("div",{staticClass:"login-container hvr-float-shadow"},[n("el-form",{ref:"form",staticStyle:{width:"300px"},attrs:{model:e.user,"label-width":"40px","label-position":"left"}},[n("el-form-item",{attrs:{label:"账号"}},[n("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.user.account,callback:function(t){e.$set(e.user,"account","string"===typeof t?t.trim():t)},expression:"user.account"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password","string"===typeof t?t.trim():t)},expression:"user.password"}})],1),n("el-form-item",[n("el-checkbox",{attrs:{label:"记住密码"},model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}})],1),n("el-form-item",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.login}},[e._v("登录")]),n("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)]),e._m(0)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bottom-panel"},[n("h6",{staticClass:"browser-advice"},[e._v("建议浏览器：Chrome")]),n("h6",{staticClass:"copyright"},[e._v("\n      技术支持：福建博思软件股份有限公司\n            \n      联系电话：0591-23537869\n    ")])])}],a=(n("8e6e"),n("ac6a"),n("456d"),n("a481"),n("96cf"),n("3b8d")),i=n("bd86"),s=n("c32d"),c=n.n(s),u=n("5880");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"BaseLogin",data:function(){return{appTitle:null,appSubTitle:null,loading:!1,user:{account:null,password:null},remember:!1}},mounted:function(){this.loadAccount(),this.appTitle="后台管理",this.appSubTitle="Background Management System"},methods:m({},Object(u["mapMutations"])({setLocalStorageItem:"storage/setLocalStorageItem",removeLocalStorageItem:"storage/removeLocalStorageItem"}),{validBeforeLogin:function(){return this.user.account?!!this.user.password||(this.$notify.warning({message:"请输入密码！"}),!1):(this.$notify.warning({message:"请输入账号！"}),!1)},login:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,this.$notify.closeAll(),this.validBeforeLogin()){e.next=5;break}return this.loading=!1,e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,this.$store.dispatch("user/loginByAccount",{account:this.user.account,password:this.user.password,encrypted:this.user.password.length>30});case 8:t=e.sent,this.loading=!1,this.remember?(this.setLocalStorageItem({name:"user",value:JSON.stringify(t)}),this.setLocalStorageItem({name:"expireTime",value:c()().add(7,"d")})):(this.setLocalStorageItem({name:"user",value:JSON.stringify(t)}),this.setLocalStorageItem({name:"expireTime",value:c()().add(30,"m")})),n=this.$router,n.currentRoute.params.module?n.replace({path:"/"+n.currentRoute.params.module,query:n.currentRoute.query}):this.$store.getters["menu/firEndMenu"]&&n.replace({path:"/".concat(this.$store.getters["menu/firEndMenu"].code)}),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](5),this.loading=!1,this.$notify.error({message:e.t0.message});case 19:case"end":return e.stop()}}),e,this,[[5,15]])})));function t(){return e.apply(this,arguments)}return t}(),reset:function(){this.user.account=null,this.user.password=null,this.remember=!1},loadAccount:function(){this.$store.commit("storage/initStorage",null,{root:!0});var e=this.$store.state.storage.localStorage,t=e.remember;if(this.remember="true"===t,this.remember){var n=JSON.parse(e.user||"{}"),r=n.account,o=n.password;this.user.account=r,this.user.password=o}}})},p=d,f=(n("23b0"),n("2877")),h=Object(f["a"])(p,r,o,!1,null,"06365398",null);t["default"]=h.exports},"48ca":function(e,t,n){"use strict";var r=n("0a7c"),o=n.n(r);o.a},"4e65":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("a481"),n("96cf");var r=n("3b8d"),o=(n("cadf"),n("551c"),n("f751"),n("097d"),n("8bbf")),a=n.n(o),i={install:function(e,t){e.prototype.$toggleFullScreen=function(e){void 0!==document.fullScreenElement&&null===document.fullScreenElement||void 0!==document.msFullscreenElement&&null===document.msFullscreenElement||void 0!==document.mozFullScreen&&!document.mozFullScreen||void 0!==document.webkitIsFullScreen&&!document.webkitIsFullScreen?e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}}},s=i;a.a.use(s);var c=/(\d{3})(?=\d)/g;function u(e,t,n){if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:"",n=null!=n?n:2;var r=Math.abs(e).toFixed(n),o=n?r.slice(0,-1-n):r,a=o.length%3,i=a>0?o.slice(0,a)+(o.length>3?",":""):"",s=n?r.slice(-1-n):"",u=e<0?"-":"";return u+t+i+o.slice(a).replace(c,"$1,")+s}var l=n("c32d"),m=n.n(l);function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return e?m()(e).format(t):""}n("6b54");var p=n("7aa9"),f=n.n(p);function h(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";try{return f.a.toString(e,{locale:"zh_CN"})}catch(t){return e}}a.a.filter("cron",h),a.a.filter("currency",u),a.a.filter("dateTime",d);n("7514"),n("6762"),n("2fdb");var g=n("1157"),v=n.n(g),b={bind:function(e,t,n,r){var o,a,i,s,c=e.querySelector(".el-dialog__header"),u=e.querySelector(".el-dialog"),l=function(){return document.body.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}(),m=function(e){var t=e.clientX-c.offsetLeft,n=e.clientY-c.offsetTop,r=document.body.clientWidth,o=document.documentElement.clientHeight,a=u.offsetWidth,i=u.offsetHeight,s=u.offsetLeft,m=r-u.offsetLeft-a,d=u.offsetTop,p=o-u.offsetTop-i,f=l(u,"left");"auto"===f&&(f="0px");var h=l(u,"top");return f.includes("%")?(f=+document.body.clientWidth*(+f.replace(/%/g,"")/100),h=+document.body.clientHeight*(+h.replace(/%/g,"")/100)):(f=+f.replace(/px/g,""),h=+h.replace(/px/g,"")),document.onmousemove=function(e){var r=e.clientX-t,o=e.clientY-n;-r>s?r=-s:r>m&&(r=m),-o>d?o=-d:o>p&&(o=p),u.style.cssText+=";left:".concat(r+f,"px;top:").concat(o+h,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null},!1};if(!1!==(null===(o=t.value)||void 0===o?void 0:o.drag)&&(c.style.cssText+=";cursor:move;",u.style.cssText+=";top:0px;",c.onmousedown=m),!1!==(null===(a=t.value)||void 0===a?void 0:a.fullscreen)){var d,p=!1,f=document.createElement("i");f.className="el-icon-full-screen",f.style.cssText="top:21px;right:40px;cursor:pointer;position:absolute;color:#8492A6;",f.onmouseover=function(){this.style.color="#1AA1FF"},f.onmouseout=function(){this.style.color="#8492A6"},f.onclick=function(e){var n;!1===p?(p=!0,f.className="fa fa-window-restore",v()(c).find(".el-icon-minus").hide(),c.style.cursor="initial",c.onmousedown=null,d=u.getAttribute("style"),u.style.cssText="left: 0;top: 0;height: 100VH;width: 100VW;margin-top: 0;"):(p=!1,f.className="el-icon-full-screen",v()(c).find(".el-icon-minus").show(),!1!==(null===(n=t.value)||void 0===n?void 0:n.drag)&&(c.style.cursor="move",c.onmousedown=m),u.setAttribute("style",d))},v()(c).find(".el-dialog__headerbtn").before(f)}if(!1!==(null===(i=t.value)||void 0===i?void 0:i.fullscreen)){var h,g=!1,b=document.createElement("i");b.className="el-icon-minus",b.style.cssText="top:21px;right:60px;cursor:pointer;position:absolute;color:#8492A6;",b.onmouseover=function(){this.style.color="#1AA1FF"},b.onmouseout=function(){this.style.color="#8492A6"},b.onclick=function(e){!1===g?(g=!0,b.style.right="40px",b.className="fa fa-window-restore",v()(c).find(".el-icon-full-screen").hide(),v()(c).find(".title").width(200).find("span").addClass("text-over"),h=u.getAttribute("style"),u.style.cssText="left:0;top:calc(100% - 50px);height: 50px;width: 300px;overflow: hidden;margin: 0;"):(g=!1,b.style.right="60px",b.className="el-icon-minus",u.setAttribute("style",h),v()(c).find(".el-icon-full-screen").show(),v()(c).find(".title").width("auto").find("span").removeClass("text-over"))},v()(c).find(".el-dialog__headerbtn").before(b)}!0===(null===(s=t.value)||void 0===s?void 0:s.resize)&&(u.onmousemove=function(t){t.clientX>u.offsetLeft+u.clientWidth-10||u.offsetLeft+10>t.clientX?u.style.cursor="w-resize":e.scrollTop+t.clientY>u.offsetTop+u.clientHeight-10?u.style.cursor="s-resize":(u.style.cursor="default",u.onmousedown=null),u.onmousedown=function(t){var n=u.clientWidth,r=u.clientHeight,o=t.clientX,a=t.clientY,i=u.clientWidth,s=u.clientHeight,c=u.offsetLeft,l=u.offsetTop;u.style.userSelect="none";var m=e.scrollTop;o>c&&o<c+i&&a>l&&a<l+100||(document.onmousemove=function(e){e.preventDefault(),o>c&&o<c+10&&(o>e.clientX&&(u.style.width=i+2*(o-e.clientX)+"px"),o<e.clientX&&(u.clientWidth<n||(u.style.width=i-2*(e.clientX-o)+"px"))),o>c+i-10&&o<c+i&&(o>e.clientX&&(u.clientWidth<n||(u.style.width=i-2*(o-e.clientX)+"px")),o<e.clientX&&(u.style.width=i+2*(e.clientX-o)+"px")),m+a>l+s-20&&m+a<l+s&&(a>e.clientY&&(u.clientHeight<r||(u.style.height=s-2*(a-e.clientY)+"px")),a<e.clientY&&(u.style.height=s+2*(e.clientY-a)+"px"))},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null})}})}},y=b;a.a.directive("dialog",y);var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},["login"===e.$route.name||!1===e.$route.meta.needLogin?n("router-view",{directives:[{name:"show",rawName:"v-show",value:!e.$store.state.user.isLogining,expression:"!$store.state.user.isLogining"}]}):n("base-layout",{attrs:{"left-panel-collapse":e.collapse,"cached-views":e.cachedViews}},[n("base-logo",{attrs:{slot:"logo-container",collapse:e.collapse},slot:"logo-container"}),n("base-menu",{attrs:{slot:"menu-panel",collapse:e.collapse,"menu-data":e.$store.getters["menu/treeMenu"],"default-active":e.$route.meta.menu&&e.$route.meta.menu.code},slot:"menu-panel"}),n("base-navbar",{attrs:{slot:"navbar-container"},slot:"navbar-container"})],1)],1)},S=[],x=(n("ac4d"),n("8a81"),n("ac6a"),n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"system-logo"},[e.collapse?n("img",{attrs:{src:"img/system-logo.png"}}):n("span",{staticClass:"title-container"},[n("span",{staticClass:"title"},[e._v(e._s(e.appTitle))]),n("h6",{staticClass:"sub-title"},[e._v(e._s(e.appSubTitle))])])])}),O=[],C={name:"BaseLogo",data:function(){return{appTitle:null,appSubTitle:null}},props:{collapse:{type:Boolean,default:!1}},mounted:function(){this.appTitle="后台管理",this.appSubTitle="Background Management System"}},k=C,_=(n("5c1d"),n("2877")),E=Object(_["a"])(k,x,O,!1,null,"b9e82edc",null),j=E.exports,T=(n("48bc"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-menu"},[n("el-menu",{attrs:{router:"",mode:"horizontal",collapse:e.collapse,"menu-trigger":e.menuTrigger,"default-active":e.defaultActive,"unique-opened":e.uniqueOpened,"text-color":e.textColor,"active-text-color":e.activeTextColor,"background-color":e.backgroundColor,"collapse-transition":!1}},e._l(e.menuData,(function(t){return n("menu-item",{key:t.code,attrs:{menu:t,collapse:e.collapse}})})),1)],1)}),M=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.menu.routeConfig.hidden||e.menu.childMenu&&0!==e.menu.childMenu.length?e.menu.routeConfig.hidden?e._e():n("el-submenu",{key:e.menu.code,staticClass:"menu-item",class:{"collapse-menu":1===e.menu.level&&e.collapse},attrs:{index:e.menu.code}},[n("template",{slot:"title"},[e.menu.icon||1===e.menu.level?n("i",{class:e.menu.icon||"el-icon-menu"},[1===e.menu.level&&e.collapse?n("div",{staticClass:"menu-title",domProps:{innerHTML:e._s(e.menu.name)}}):e._e()]):e._e(),n("span",{attrs:{slot:"title"},domProps:{innerHTML:e._s(e.menu.name)},slot:"title"})]),e._l(e.menu.childMenu,(function(e){return n("menu-item",{key:e.code,attrs:{menu:e}})}))],2):n("el-menu-item",{directives:[{name:"touch-ripple",rawName:"v-touch-ripple"}],key:e.menu.code,staticClass:"menu-item",class:{"collapse-menu":1===e.menu.level&&e.collapse},attrs:{index:e.menu.code}},[e.menu.icon||1===e.menu.level?n("i",{class:e.menu.icon||"el-icon-menu"},[1===e.menu.level&&e.collapse?n("div",{staticClass:"menu-title",domProps:{innerHTML:e._s(e.menu.name)}}):e._e()]):e._e(),n("span",{attrs:{slot:"title"},domProps:{innerHTML:e._s(e.menu.name)},slot:"title"})])},I=[],B={name:"MenuItem",props:{menu:{type:Object,required:!0},collapse:{type:Boolean,default:!1}}},P=B,$=(n("7e2f"),Object(_["a"])(P,L,I,!1,null,"81889014",null)),A=$.exports,R={name:"BaseMenu",components:{MenuItem:A},props:{mode:{type:String,default:"vertical"},collapse:{type:Boolean,default:!1},uniqueOpened:{type:Boolean,default:!0},menuTrigger:{type:String,default:"hover"},defaultActive:{type:String,default:""},textColor:{type:String,default:"#f8f8f8"},activeTextColor:{type:String,default:"#ffd04b"},backgroundColor:{type:String,default:"#4B5C76"},menuData:{type:Array}}},F=R,N=(n("9767"),Object(_["a"])(F,T,M,!1,null,"518899d1",null)),D=N.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-layout"},[n("div",{staticClass:"top-container",class:{collapse:e.leftPanelCollapse},style:e.sideBarStyle},[n("div",{staticClass:"logo-container",style:e.logoContainerStyle},[e._t("logo-container")],2),n("div",{staticClass:"menu-panel"},[e._t("menu-panel")],2),n("div",{staticClass:"navbar-container",style:e.navBarStyle},[e._t("navbar-container")],2)]),n("div",{staticClass:"main-container",style:e.mainContainerStyle},[n("div",{staticClass:"app-main"},[n("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[n("keep-alive",{attrs:{include:e.cachedViews}},[n("router-view",{key:e.$route.path})],1)],1)],1)])])},H=[],V={name:"BaseLayout",props:{cachedViews:{type:Array,default:function(){return[]}},navBarStyle:{type:Object,default:function(){return{height:"0px"}}},sideBarStyle:{type:Object,default:function(){return{width:"100%"}}},logoContainerStyle:{type:Object,default:function(){return{height:"60px",width:"70%"}}},leftPanelCollapse:{type:Boolean,default:!1}},computed:{mainContainerStyle:function(){return{height:"calc(100% - 150px"}}}},Y=V,X=(n("3d39"),Object(_["a"])(Y,q,H,!1,null,"53119e10",null)),z=X.exports,W=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"base-navbar"},[r("div",{staticClass:"function-area"},[r("div",{key:"nav-time",staticClass:"nav-time"},[r("div",{staticClass:"sys-time"},[t._v(t._s(t.sysTime))]),r("div",{staticClass:"sys-date"},[t._v(t._s(t.sysDate))])]),r("div",{staticClass:"split-line"}),r("el-dropdown",{attrs:{placement:"bottom"},on:{command:function(t){return e[t]()}}},[r("span",[r("img",{staticClass:"func-img avatar",attrs:{src:"img/boy.png"}}),r("span",{staticClass:"username"},[t._v("您好，"+t._s(t.userInfo.userName))])]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"loginOut"}},[r("i",{staticClass:"fa fa-sign-out"}),t._v("退出登录\n        ")])],1)],1)],1)])},U=[],J=(n("8e6e"),n("456d"),n("bd86")),K=n("5880"),Q=n.n(K);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(J["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={name:"BaseNavbar",data:function(){return{sysTime:m()().format("HH:mm:ss"),sysDate:m()().format("YYYY/MM/DD dddd"),mode:"production",fullscreen:!1}},computed:Z({},Object(K["mapState"])({userInfo:function(e){return e.user.userInfo||{}},hasNewError:function(e){return e.error.hasNew},errorLog:function(e){return e.error.errorLog}})),created:function(){var e=this;setInterval((function(){e.sysTime=m()().format("HH:mm:ss"),e.sysDate=m()().format("YYYY/MM/DD dddd")}),1e3)},methods:{fullScreen:function(){this.fullscreen=!this.fullscreen,this.$toggleFullScreen(window.document.documentElement)},showErrorLog:function(){this.$store.commit("error/setHasNew",!1)},loginOut:function(){var e=this;this.$confirm("您确定退出登录吗?","确认退出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$store.dispatch("user/loginOut").then((function(){e.$router.replace({name:"login"})}))})).catch((function(){}))}}},te=ee,ne=(n("ec70"),n("48ca"),Object(_["a"])(te,W,U,!1,null,"9adb2d80",null)),re=ne.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-breadcrumb"},[n("el-breadcrumb",[n("transition-group",{attrs:{name:"breadcrumb"}},e._l((e.$route.meta.menu||{}).siteMap,(function(t){return n("el-breadcrumb-item",{key:t},[e._v(e._s(t))])})),1)],1)],1)},ae=[],ie={name:"BaseBreadcrumb",props:{collapse:{type:Boolean,default:!1}}},se=ie,ce=(n("e730"),Object(_["a"])(se,oe,ae,!1,null,"fae6fcb0",null)),ue=(ce.exports,{components:{BaseLogo:j,BaseMenu:D,BaseLayout:z,BaseNavbar:re},data:function(){return{collapse:!1,cachedViews:[]}},methods:{addCacheView:function(e){this.cachedViews.includes(e.matched[0].components.default.name)||this.cachedViews.push(e.matched[0].components.default.name)},removeCacheView:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=this.cachedViews[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;if(i===e.matched[0].components.default.name){var s=this.cachedViews.indexOf(i);this.cachedViews.splice(s,1);break}}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},removeOtherCacheView:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=this.cachedViews[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;if(i===e.matched[0].components.default.name){var s=this.cachedViews.indexOf(i);this.cachedViews=this.cachedViews.slice(s,s+1);break}}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},clearCacheView:function(){this.cachedViews=[]}}}),le=ue,me=(n("5c0b"),Object(_["a"])(le,w,S,!1,null,null,null)),de=me.exports,pe={namespaced:!0,state:{userInfo:null,isLogining:!1},getters:{userInfo:function(e){return e.userInfo}},mutations:{setLoginUser:function(e,t){e.userInfo=t},setLoginState:function(e,t){e.isLogining=t}},actions:{loginByAccount:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,s,c,u,l,m,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,o=d.length>1&&void 0!==d[1]?d[1]:{},i=o.account,s=o.password,c=o.encrypted,u=void 0!==c&&c,e.next=4,a.a.$api.login({data:{userCode:i,password:s,encrypted:u}});case 4:if(l=e.sent,l.data.success){e.next=7;break}return e.abrupt("return",Promise.reject(new Error(l.data.message)));case 7:return e.prev=7,m=l.data.data,e.next=11,r("menu/generateRoutes",{userId:m.id},{root:!0});case 11:return n("setLoginUser",m),e.abrupt("return",Promise.resolve(m));case 15:return e.prev=15,e.t0=e["catch"](7),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));function t(t){return e.apply(this,arguments)}return t}(),loginByStorage:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.dispatch,o=t.rootState,n("storage/initStorage",null,{root:!0}),a=o.storage.localStorage.expireTime,i=JSON.parse(o.storage.localStorage.user||"{}"),s=i.userCode,c=i.password,e.prev=4,!(a&&m()(a)>m()()&&s&&c)){e.next=10;break}return e.next=8,r("loginByAccount",{account:s,password:c,encrypted:!0});case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(new Error));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e["catch"](4),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));function t(t){return e.apply(this,arguments)}return t}(),loginOut:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n("setLoginUser",null),n("storage/clearStorage",null,{root:!0});case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}};function fe(e,t){var n=e.filter((function(t){return!e.find((function(e){return e.id===t.parentId}))}));n.forEach((function(n){n.level=1,n.siteMap=[n.name],he(n,e,t)}))}function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.commit,o=n.state,a=n.rootState;e.childMenu=[],t.forEach((function(n){n.parentId===e.id&&(n.level=e.level+1,e.childMenu.push(n),n.siteMap=e.siteMap.concat([n.name]),he(n,t,{commit:r,state:o,rootState:a}))})),!o.firEndMenu&&0===e.childMenu.length&&a.components.asyncComponents[e.component]&&r("setFirEndMenu",e)}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.commit,r=t.rootState,o=[];e.forEach((function(e){if(e.childMenu.length>0)return!1;if(0===e.childMenu.length&&!e.component&&!e.config)return console.warn("菜单:".concat(e.siteMap,"，未配置Vue组件名或Url地址参数！")),!1;var t={path:"/"+e.code,name:e.code,meta:{menu:e}},n=e.target;if("blank"===n)t.beforeEnter=function(t,n,r){window.open(e.config),r(!1)};else if("component"===n){if(t.component=r.components.asyncComponents[e.component],!t.component)return console.warn("菜单(".concat(e.siteMap,")配置的组件(").concat(e.component,")，未在异步组件库(src/store/components.js)文件中找到，请前往该文件中注册！")),!1;t.props=function(t){var n={menu:e,theme:r.theme.name,user:r.user.userInfo};return n=Object.assign({},n,e.config),n}}o.push(t)})),n("router/addRoutes",o,{root:!0})}var ve={namespaced:!0,state:{rawMenu:[],firEndMenu:null},getters:{treeMenu:function(e){return e.rawMenu.filter((function(e){return 1===e.level}))},firEndMenu:function(e){return e.rawMenu.find((function(e){return e.routeConfig.affix}))||e.firEndMenu}},mutations:{setFirEndMenu:function(e,t){e.firEndMenu=t}},actions:{generateRoutes:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,s,c,u,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=t.rootState,i=l.length>1&&void 0!==l[1]?l[1]:{},s=i.userId,e.next=4,a.a.$api.menu({params:{userId:s}});case 4:if(c=e.sent,e.prev=5,u=c.data.data.map((function(e){if("blank"===e.target)return e;try{return e.config=e.config?JSON.parse(e.config):{},e.routeConfig=e.routeConfig?JSON.parse(e.routeConfig):{},e}catch(t){return console.error("菜单：".concat(e.name,"，模块配置或路由配置有误，请检查！")),e}})),0!==u.length){e.next=10;break}return alert("当前用户没有可访问的菜单，请联系管理员！"),e.abrupt("return");case 10:fe(u,{commit:n,state:r,rootState:o}),ge(u,{commit:n,rootState:o}),r.rawMenu=u,e.next=18;break;case 15:return e.prev=15,e.t0=e["catch"](5),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));function t(t){return e.apply(this,arguments)}return t}()}},be={namespaced:!0,state:{hasNew:!1,errorLog:[]},mutations:{setHasNew:function(e,t){e.hasNew=t},pushError:function(e,t){e.hasNew=!0,e.errorLog.unshift(Object.assign({},t,{time:m()().format("HH:mm:ss")}))}}};function ye(e){var t=document.getElementsByTagName("body")[0],n=document.querySelector("link[id=theme]");n&&t.removeChild(n);var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.setAttribute("id","theme"),r.href="theme/".concat(e,"/style.css"),t.appendChild(r)}var we={namespaced:!0,state:{name:"default"},getters:{name:function(e,t,n){return n.storage.theme||e.name}},mutations:{switchTheme:function(e,t){e.name=t}},actions:{switchTheme:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,ye(n),r("switchTheme",n),r("storagte/setStorageItem",{name:"theme",value:n},{root:!0});case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}},Se=(n("386d"),n("4328")),xe=n.n(Se),Oe={namespaced:!0,state:{appId:1},mutations:{setAppId:function(e){var t=xe.a.parse(window.location.search.substr(1)).appId||1;e.appId=parseInt(t)}}},Ce={namespaced:!0,state:{routes:[],routerInstance:null},mutations:{setRouter:function(e,t){e.routerInstance=t},addRoutes:function(e,t){e.routes=t,e.routerInstance.addRoutes(t)}}},ke={namespaced:!0,state:{localStorage:{}},mutations:{initStorage:function(e){for(var t={},n=window.localStorage,r=0,o=n.length;r<o;r++){var a=n.key(r),i=n.getItem(a);Object.assign(t,Object(J["a"])({},a,i))}e.localStorage=t},setLocalStorageItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.value;window.localStorage.setItem(n,r),e.localStorage=Object.assign({},e.localStorage,Object(J["a"])({},n,r))},removeLocalStorageItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name;window.localStorage.removeItem(n),delete e.localStorage[n]},clearStorage:function(e){window.localStorage.clear(),e.localStorage={}}}},_e={namespaced:!0,state:{asyncComponents:{test:function(){return n.e("delivery").then(n.bind(null,"2762"))},permission:function(){return n.e("permission").then(n.bind(null,"c23a"))},home:function(){return n.e("home").then(n.bind(null,"7abe"))},order:function(){return n.e("order").then(n.bind(null,"634a"))},delivery:function(){return n.e("delivery").then(n.bind(null,"99ac"))},"order-mobile":function(){return n.e("order").then(n.bind(null,"e66f"))},"delivery-mobile":function(){return n.e("delivery").then(n.bind(null,"cceb"))}}}};a.a.use(Q.a);var Ee=new Q.a.Store({modules:{user:pe,error:be,menu:ve,theme:we,system:Oe,router:Ce,storage:ke,components:_e}}),je=[{path:"/",redirect:{name:"login"}},{path:"/login/:module?",name:"login",component:function(){return Promise.resolve().then(n.bind(null,"48bc"))}},{path:"/redirect/:path*",component:function(){return n.e("redirect").then(n.bind(null,"a427"))}}],Te=n("6389"),Me=n.n(Te);a.a.use(Me.a);var Le=new Me.a({routes:je});Le.beforeEach((function(e,t,n){if(!1===e.meta.needLogin||"login"===e.name||Ee.state.user.userInfo){if("login"===e.name)return Ee.commit("user/setLoginUser",null),Ee.commit("user/setAccessToken",null),void n();var r;if(0!==e.matched.length)n();else n({path:"/"+(null===(r=Ee.state.menu.firEndMenu)||void 0===r?void 0:r.code)})}else n({name:"login",params:{module:e.path.substr(1)},query:e.query})})),Ee.commit("router/setRouter",Le);var Ie=Le;a.a.config.errorHandler=function(e,t,n){console.error(e),Ee.commit("error/pushError",{message:e.message,info:"".concat(t.$vnode.tag," error in ").concat(n),stack:e.stack,url:window.location.href,vueInstance:t})};var Be={globalAxiosOptions:{baseURL:"http://106.14.181.20:8989"},api:[{name:"通用查询接口",method:"queryData",url:"/api/v1/basic/queryData"},{name:"通用查询分页接口",method:"pagingData",url:"/api/v1/basic/pagingData"},{name:"通用新增接口",method:"add",url:"/api/v1/basic/execute",type:"post"},{name:"通用删除接口",method:"remove",url:"/api/v1/basic/execute",type:"delete"},{name:"通用修改接口",method:"modify",url:"/api/v1/basic/execute",type:"put"},{name:"用户登录",method:"login",url:"/api/v1/user/login",type:"post"},{name:"菜单接口",method:"menu",url:"/api/v1/menu"},{name:"",method:"modifyOrderDetail",url:"/modifyOrderDetail",type:"post"}]},Pe=n("443a"),$e=n("5f72"),Ae=n.n($e),Re=n("9c49"),Fe=n.n(Re),Ne=(n("cc40"),n("139c"),n("96eb")),De=n.n(Ne),qe={id:3,email:"946424684@qq.com",avatar:null,phone:"13645001431",gender:1,birthday:"1992-01-09 00:00:00",account:"system",userName:"系统管理员",password:"c4ca4238a0b923820dcc509a6f75849b",isDeleted:0,isEnabled:1,isLocked:0,remark:null,createBy:"系统管理员",createUserId:3,createTime:"2019-06-08 14:53:33",updateBy:null,updateUserId:null,updateTime:null,sortCode:1},He={login:function(e){return{success:!0,data:qe}}},Ve=(n("4917"),[{id:1,code:"test",name:"test",target:"component",component:"test",sortCode:1},{id:1,code:"order",name:"order",target:"component",component:"order-mobile",sortCode:1},{id:1,code:"delivery",name:"delivery",target:"component",component:"delivery-mobile",sortCode:1}]),Ye=[{id:0,code:"home",name:"home",target:"component",component:"home",sortCode:1},{id:1,code:"order",name:"order",target:"component",component:"order",sortCode:1},{id:1,code:"delivery",name:"delivery",target:"component",component:"delivery",sortCode:1}],Xe={menu:function(e){var t=Ye;return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(t=Ve),{success:!0,data:t}}};De.a.mock(/\/api\/v1\/user\/login/,"post",He.login),De.a.mock(/\/api\/v1\/menu/,"get",Xe.menu),a.a.use(Fe.a),a.a.use(Ae.a,{size:"small"}),a.a.config.productionTip=!1,Pe["a"].register({systemConfig:Be}).then((function(){var e=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=function(){Ee.commit("user/setLoginState",!1)},e.prev=1,e.next=4,Ee.dispatch("user/loginByStorage");case 4:Ie.currentRoute.params.module?Ie.replace({path:"/"+Ie.currentRoute.params.module,query:Ie.currentRoute.query},t,t):Ee.getters["menu/firEndMenu"]&&Ie.replace({path:"/".concat(Ee.getters["menu/firEndMenu"].code)},t,t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),Ie.push({name:"login"},t,t);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();new a.a({store:Ee,router:Ie,render:function(e){return e(de)},created:function(){Ee.commit("system/setAppId"),!1!==Ie.currentRoute.meta.needLogin&&(Ee.commit("user/setLoginState",!0),e())}}).$mount("#app")}))},5880:function(e,t){e.exports=Vuex},"5c0b":function(e,t,n){"use strict";var r=n("e332"),o=n.n(r);o.a},"5c1d":function(e,t,n){"use strict";var r=n("a2b8"),o=n.n(r);o.a},"5f72":function(e,t){e.exports=ELEMENT},6389:function(e,t){e.exports=VueRouter},"751a":function(e,t,n){},"7e2f":function(e,t,n){"use strict";var r=n("751a"),o=n.n(r);o.a},"8bbf":function(e,t){e.exports=Vue},9767:function(e,t,n){"use strict";var r=n("abef"),o=n.n(r);o.a},"99f4":function(e,t,n){},a2b8:function(e,t,n){},abef:function(e,t,n){},c32d:function(e,t){e.exports=moment},cebe:function(e,t){e.exports=axios},e332:function(e,t,n){},e730:function(e,t,n){"use strict";var r=n("f202"),o=n.n(r);o.a},ec70:function(e,t,n){"use strict";var r=n("f7bb"),o=n.n(r);o.a},f202:function(e,t,n){},f7bb:function(e,t,n){}});
//# sourceMappingURL=app.8d572e4d.js.map
