{"version":3,"sources":["webpack:///./src/views/taskrun-monitor/taskrun-timeconsuming.vue?a297","webpack:///src/views/taskrun-monitor/taskrun-timeconsuming.vue","webpack:///./src/views/taskrun-monitor/taskrun-timeconsuming.vue?7439","webpack:///./src/views/taskrun-monitor/taskrun-timeconsuming.vue","webpack:///./src/views/ticket-produce/ticket-second-produce.vue?1016","webpack:///./src/views/taskrun-monitor/taskrun-timeconsuming.vue?99bb","webpack:///./src/views/ticket-produce/ticket-second-produce.vue?51d9","webpack:///src/views/ticket-produce/ticket-second-produce.vue","webpack:///./src/views/ticket-produce/ticket-second-produce.vue?adda","webpack:///./src/views/ticket-produce/ticket-second-produce.vue","webpack:///./src/views/ticket-produce/ticket-traditional-produce.vue?e8b6","webpack:///src/views/ticket-produce/ticket-traditional-produce.vue","webpack:///./src/views/ticket-produce/ticket-traditional-produce.vue?3f10","webpack:///./src/views/ticket-produce/ticket-traditional-produce.vue","webpack:///./src/views/ticket-produce/ticket-traditional-produce.vue?f865"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","props","loadNode","on","handleNodeClick","directives","name","rawName","value","grid","expression","ref","rows","height","val","selectedRow","scopedSlots","_u","key","fn","scope","_v","_s","_f","row","executeFrequency","formatThreshold75","formatThreshold95","formatThreshold99","staticStyle","$event","onUpdate","onView","dialog","show","$set","slot","class","dialogMode","icon","title","rules","data","model","global","callback","$$v","mode","loading","onSave","_e","staticRenderFns","next","label","children","isLeaf","groupId","executorName","address","fid","jobName","describe","threshold75","threshold95","threshold99","createBy","userName","createTime","jobExecutorSettins","computed","created","methods","Object","assign","onJobNameChange","index","component","onSubNameChange","_l","item","subCode","subName","thresholdLabel","regular","message","typeCode","typeName","warnLevel","monitorRule","threshold","status","targetSettins","featchData","find"],"mappings":"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","file":"static/js/taskrun-timeconsuming.b2c14751.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"taskrun-timeconsuming\"},[_c('div',{staticClass:\"grid-container\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-tree',{attrs:{\"props\":_vm.props,\"load\":_vm.loadNode,\"node-key\":\"id\",\"default-expanded-keys\":['root'],\"lazy\":\"\"},on:{\"node-click\":_vm.handleNodeClick}})],1),_c('el-col',{attrs:{\"span\":20}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.grid.loading),expression:\"grid.loading\"}],ref:\"table\",attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.grid.rows,\"height\":_vm.grid.height,\"highlight-current-row\":\"\"},on:{\"selection-change\":function (val) { return _vm.grid.selectedRow =val; }}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"align\":\"center\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"jobName\",\"label\":\"作业处理器\",\"align\":\"left\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"describe\",\"label\":\"描述\",\"align\":\"left\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"executeFrequency\",\"label\":\"执行频率\",\"align\":\"left\",\"width\":\"200\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"cron\")(scope.row.executeFrequency)))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"threshold75\",\"label\":\"75%耗时(ms)\",\"align\":\"left\",\"width\":\"100\",\"show-overflow-tooltip\":\"\",\"formatter\":_vm.formatThreshold75}}),_c('el-table-column',{attrs:{\"prop\":\"threshold95\",\"label\":\"95%耗时(ms)\",\"align\":\"left\",\"width\":\"100\",\"show-overflow-tooltip\":\"\",\"formatter\":_vm.formatThreshold95}}),_c('el-table-column',{attrs:{\"prop\":\"threshold99\",\"label\":\"99%耗时(ms)\",\"align\":\"left\",\"width\":\"100\",\"show-overflow-tooltip\":\"\",\"formatter\":_vm.formatThreshold99}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"100\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{staticStyle:{\"font-size\":\"20px\",\"margin\":\"0 5px 0 0\"},attrs:{\"icon\":\"el-icon-edit-outline\"},on:{\"click\":function($event){return _vm.onUpdate(scope.row)}}}),_c('el-link',{staticStyle:{\"font-size\":\"20px\",\"margin\":\"0 5px 0 0\"},attrs:{\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.onView(scope.row)}}})]}}])})],1)],1)],1)],1),(_vm.dialog.show)?_c('el-dialog',{directives:[{name:\"dialog\",rawName:\"v-dialog\"}],attrs:{\"width\":\"700px\",\"visible\":_vm.dialog.show,\"modal-append-to-body\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"show\", $event)}}},[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{class:_vm.dialogMode.icon}),_c('span',[_vm._v(\"任务执行耗时维护 —— \"+_vm._s(_vm.dialogMode.title))])]),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.dialog.rules,\"model\":_vm.dialog.data,\"label-width\":\"110px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"所属执行器\",\"prop\":\"executorName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.global.executorName),callback:function ($$v) {_vm.$set(_vm.global, \"executorName\", $$v)},expression:\"global.executorName\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"执行器地址\",\"prop\":\"address\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.global.address),callback:function ($$v) {_vm.$set(_vm.global, \"address\", $$v)},expression:\"global.address\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"作业处理器\",\"prop\":\"jobName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialog.data.jobName),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"jobName\", $$v)},expression:\"dialog.data.jobName\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"describe\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialog.data.describe),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"describe\", $$v)},expression:\"dialog.data.describe\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"75%耗时(ms)\",\"prop\":\"threshold75\"}},[_c('el-input',{attrs:{\"disabled\":_vm.dialog.mode===3},model:{value:(_vm.dialog.data.threshold75),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"threshold75\", $$v)},expression:\"dialog.data.threshold75\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"执行频率\",\"prop\":\"executeFrequency\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"value\":_vm._f(\"cron\")(_vm.dialog.data.executeFrequency)}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"95%耗时(ms)\",\"prop\":\"threshold95\"}},[_c('el-input',{attrs:{\"disabled\":_vm.dialog.mode===3},model:{value:(_vm.dialog.data.threshold95),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"threshold95\", $$v)},expression:\"dialog.data.threshold95\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"99%耗时(ms)\",\"prop\":\"threshold99\"}},[_c('el-input',{attrs:{\"disabled\":_vm.dialog.mode===3},model:{value:(_vm.dialog.data.threshold99),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"threshold99\", $$v)},expression:\"dialog.data.threshold99\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编制人\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialog.data.userName),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"userName\", $$v)},expression:\"dialog.data.userName\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编制时间\",\"prop\":\"createTime\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.dialog.data.createTime),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"createTime\", $$v)},expression:\"dialog.data.createTime\"}})],1)],1)],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.dialog.mode !== 3)?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"fa fa-save\",\"disabled\":_vm.dialog.loading},on:{\"click\":_vm.onSave}},[_vm._v(\" 保存\")]):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"taskrun-timeconsuming\">\r\n<!--    <div class=\"tool-bar\">-->\r\n<!--      <el-link icon=\"el-icon-document-add\" @click=\"onAdd\">新增</el-link>-->\r\n<!--      <div class=\"split-line\"></div>-->\r\n<!--      <el-link icon=\"el-icon-circle-check\" @click=\"toggleEnable(1)\">启用</el-link>-->\r\n<!--      <div class=\"split-line\"></div>-->\r\n<!--      <el-link icon=\"el-icon-remove-outline\" @click=\"toggleEnable(0)\">停用</el-link>-->\r\n<!--      <div class=\"split-line\"></div>-->\r\n<!--      <el-link icon=\"el-icon-refresh\" @click=\"featchData\">刷新</el-link>-->\r\n<!--    </div>-->\r\n    <div class=\"grid-container\">\r\n      <el-row>\r\n        <el-col :span=\"4\">\r\n          <el-tree\r\n            :props=\"props\"\r\n            :load=\"loadNode\"\r\n            node-key=\"id\"\r\n            :default-expanded-keys=\"['root']\"\r\n            lazy\r\n            @node-click=\"handleNodeClick\"\r\n          >\r\n          </el-tree>\r\n        </el-col>\r\n        <el-col :span=\"20\">\r\n          <el-table\r\n            border\r\n            stripe\r\n            ref=\"table\"\r\n            :data=\"grid.rows\"\r\n            :height=\"grid.height\"\r\n            highlight-current-row\r\n            v-loading=\"grid.loading\"\r\n            @selection-change=\"val => grid.selectedRow =val\"\r\n          >\r\n<!--            <el-table-column type=\"selection\" align=\"center\" width=\"50\"></el-table-column>-->\r\n            <el-table-column type=\"index\" width=\"50\" align=\"center\" label=\"序号\"></el-table-column>\r\n            <el-table-column prop=\"jobName\" label=\"作业处理器\" align=\"left\"  show-overflow-tooltip></el-table-column>\r\n            <el-table-column prop=\"describe\" label=\"描述\" align=\"left\"  show-overflow-tooltip></el-table-column>\r\n            <el-table-column prop=\"executeFrequency\" label=\"执行频率\" align=\"left\" width=\"200\" show-overflow-tooltip>\r\n              <template slot-scope=\"scope\">{{scope.row.executeFrequency | cron}}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"threshold75\" label=\"75%耗时(ms)\" align=\"left\" width=\"100\" show-overflow-tooltip :formatter=\"formatThreshold75\"></el-table-column>\r\n            <el-table-column prop=\"threshold95\" label=\"95%耗时(ms)\" align=\"left\" width=\"100\" show-overflow-tooltip :formatter=\"formatThreshold95\"></el-table-column>\r\n            <el-table-column prop=\"threshold99\" label=\"99%耗时(ms)\" align=\"left\" width=\"100\" show-overflow-tooltip :formatter=\"formatThreshold99\"></el-table-column>\r\n            <el-table-column align=\"center\" width=\"100\" label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-link\r\n                  style=\"font-size: 20px;margin: 0 5px 0 0;\"\r\n                  icon=\"el-icon-edit-outline\"\r\n                  @click=\"onUpdate(scope.row)\"\r\n                ></el-link>\r\n                <el-link\r\n                  style=\"font-size: 20px;margin: 0 5px 0 0;\"\r\n                  icon=\"el-icon-view\"\r\n                  @click=\"onView(scope.row)\"\r\n                ></el-link>\r\n    <!--              <el-link-->\r\n    <!--                style=\"font-size: 20px;margin: 0 5px 0 0;\"-->\r\n    <!--                icon=\"el-icon-delete\"-->\r\n    <!--                @click=\"onDelete(scope.row)\"-->\r\n    <!--              ></el-link>-->\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <el-dialog\r\n      v-dialog\r\n      width=\"700px\"\r\n      v-if=\"dialog.show\"\r\n      :visible.sync=\"dialog.show\"\r\n      :modal-append-to-body=\"false\"\r\n      :close-on-click-modal=\"false\"\r\n    >\r\n      <div slot=\"title\" class=\"title\">\r\n        <i :class=\"dialogMode.icon\"></i>\r\n        <span>任务执行耗时维护 —— {{dialogMode.title}}</span>\r\n      </div>\r\n      <el-form ref=\"form\" :rules=\"dialog.rules\" :model=\"dialog.data\" label-width=\"110px\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"所属执行器\" prop=\"executorName\">\r\n              <el-input disabled v-model=\"global.executorName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"执行器地址\" prop=\"address\">\r\n              <el-input disabled v-model=\"global.address\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"作业处理器\" prop=\"jobName\">\r\n              <el-input disabled v-model=\"dialog.data.jobName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"描述\" prop=\"describe\">\r\n              <el-input disabled v-model=\"dialog.data.describe\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"75%耗时(ms)\" prop=\"threshold75\">\r\n              <el-input :disabled=\"dialog.mode===3\" v-model=\"dialog.data.threshold75\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"执行频率\" prop=\"executeFrequency\">\r\n              <el-input disabled :value=\"dialog.data.executeFrequency | cron\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"95%耗时(ms)\" prop=\"threshold95\">\r\n              <el-input :disabled=\"dialog.mode===3\" v-model=\"dialog.data.threshold95\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"99%耗时(ms)\" prop=\"threshold99\">\r\n              <el-input :disabled=\"dialog.mode===3\" v-model=\"dialog.data.threshold99\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"编制人\" prop=\"userName\">\r\n              <el-input disabled v-model=\"dialog.data.userName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"编制时间\" prop=\"createTime\">\r\n              <el-date-picker\r\n                disabled\r\n                v-model=\"dialog.data.createTime\"\r\n                type=\"date\"\r\n                placeholder=\"选择日期\"\r\n                style=\"width: 100%;\"\r\n              ></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"onSave\" icon=\"fa fa-save\" v-if=\"dialog.mode !== 3\" :disabled=\"dialog.loading\">&nbsp;保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nexport default {\r\n  name: 'taskrun-timeconsuming',\r\n  data () {\r\n    const validateThreshold = (rule, value, next) => {\r\n      if (!value && value !== 0) {\r\n        next('请输入阈值！')\r\n      } else if (!/^(-?\\d+)$/.test(value)) {\r\n        next('请输入整数！')\r\n      } else if (value <= 0) {\r\n        next('请输入大于0的整数！')\r\n      } else {\r\n        next()\r\n      }\r\n    }\r\n    return {\r\n      props: {\r\n        label: 'name',\r\n        children: 'zones',\r\n        isLeaf: 'leaf'\r\n      },\r\n      global: {\r\n        groupId: null,\r\n        executorName: null,\r\n        address: null\r\n      },\r\n      grid: {\r\n        rows: [],\r\n        height: null,\r\n        loading: false,\r\n        selectedRow: []\r\n      },\r\n      dialog: {\r\n        mode: null,\r\n        show: false,\r\n        loading: false,\r\n        data: {\r\n          fid: null,\r\n          groupId: null,\r\n          jobName: null,\r\n          describe: null,\r\n          executeFrequency: null,\r\n          threshold75: null,\r\n          threshold95: null,\r\n          threshold99: null,\r\n          createBy: null,\r\n          userName: null,\r\n          createTime: null\r\n        },\r\n        rules: {\r\n          threshold75: [\r\n            { required: true,\r\n              validator: validateThreshold,\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          threshold95: [\r\n            { required: true,\r\n              validator: validateThreshold,\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          threshold99: [\r\n            { required: true,\r\n              validator: validateThreshold,\r\n              trigger: 'blur'\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      jobExecutorSettins: [{\r\n        jobName: 'xxxxxJob',\r\n        describe: '011',\r\n        executeFrequency: '1'\r\n      }, {\r\n        jobName: 'x1Job',\r\n        describe: '011',\r\n        executeFrequency: '1'\r\n      }, {\r\n        jobName: 'x2Job',\r\n        describe: '011',\r\n        executeFrequency: '1'\r\n      }, {\r\n        jobName: 'x3Job',\r\n        describe: '011',\r\n        executeFrequency: '1'\r\n      }]\r\n    }\r\n  },\r\n  computed: {\r\n    dialogMode () {\r\n      switch (this.dialog.mode) {\r\n        case 1:\r\n          return { title: '新增', icon: 'el-icon-document-add', message: '添加成功！' }\r\n        case 2:\r\n          return { title: '编辑', icon: 'el-icon-edit-outline', message: '修改成功！' }\r\n        case 3:\r\n          return { title: '查看', icon: 'el-icon-document' }\r\n        default:\r\n          return {}\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    // this.featchData()\r\n  },\r\n  methods: {\r\n    /**\r\n     格式化 表格数据\r\n     */\r\n    formatThreshold75: function (row) {\r\n      if (!row.threshold75 && row.threshold75 !== 0) {\r\n        return '未设置'\r\n      }\r\n      return row.threshold75\r\n    },\r\n    formatThreshold95: function (row) {\r\n      if (!row.threshold95 && row.threshold95 !== 0) {\r\n        return '未设置'\r\n      }\r\n      return row.threshold95\r\n    },\r\n    formatThreshold99: function (row) {\r\n      if (!row.threshold99 && row.threshold99 !== 0) {\r\n        return '未设置'\r\n      }\r\n      return row.threshold99\r\n    },\r\n    /**\r\n     获取 主页面表格数据\r\n     */\r\n    async featchData (groupId) {\r\n      this.grid.loading = true\r\n      let { data } = await this.$api.queryData({\r\n        params: {\r\n          mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.timeConsumingThresholds',\r\n          groupId: groupId\r\n        }\r\n      })\r\n      this.grid.loading = false\r\n      this.grid.rows = data.data\r\n    },\r\n    /**\r\n     获取 作业处理器下拉框数据\r\n     */\r\n    async featchjobExecutorsData () {\r\n      let { data } = await this.$api.queryData({\r\n        params: {\r\n          mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.jobExecutors'\r\n        }\r\n      })\r\n      this.jobExecutorSettins = data.data\r\n    },\r\n    /**\r\n     输入数字合法性 校验\r\n     */\r\n    async validateNumeric () {\r\n      let thresholdGroup = []\r\n      thresholdGroup.push(this.dialog.data.threshold75)\r\n      thresholdGroup.push(this.dialog.data.threshold95)\r\n      thresholdGroup.push(this.dialog.data.threshold99)\r\n      let regPos = /^(-?\\d+)(\\.\\d+)?$/ // 浮点数\r\n      for (let item of thresholdGroup) {\r\n        if ((item && !regPos.test(item))) {\r\n          this.$message.info('指标阈值必须为数字！')\r\n          return Promise.reject(new Error())\r\n        }\r\n        if (item <= 0) {\r\n          this.$message.info('指标阈值必须＞0！')\r\n          return Promise.reject(new Error())\r\n        }\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n     新增对话框 初始化\r\n     */\r\n    async onAdd () {\r\n      try {\r\n        // await this.validateBeforeAdd()\r\n        let model = {\r\n          createBy: this.$store.state.user.userInfo.userId,\r\n          userName: this.$store.state.user.userInfo.userName,\r\n          createTime: moment().format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n        this.dialog.mode = 1\r\n        this.dialog.show = true\r\n        this.dialog.data = model\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n     查看对话框 初始化\r\n     */\r\n    onView (row) {\r\n      this.dialog.mode = 3\r\n      this.dialog.show = true\r\n      this.dialog.data = Object.assign({}, row)\r\n    },\r\n    /**\r\n     删除前 校验\r\n     */\r\n    async validateBeforeDelete (row) {\r\n      if (row.status === 1) {\r\n        this.$message.info('当前指标已启用，不允许删除！')\r\n        return Promise.reject(new Error())\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n     删除 操作\r\n     */\r\n    async onDelete (row) {\r\n      try {\r\n        await this.validateBeforeDelete(row)\r\n        this.$confirm('您确定要删除当前选中的记录吗?', '确认删除', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(async () => {\r\n          await this.$api.remove({\r\n            params: {\r\n              mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.deleteByPrimaryKey',\r\n              fid: row.fid\r\n            }\r\n          })\r\n          this.featchData()\r\n          this.$message.success('删除成功！')\r\n        }).catch(() => { })\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n     更新对话框 初始化\r\n     */\r\n    async onUpdate (row) {\r\n      try {\r\n        this.dialog.loading = false\r\n        // await this.validateBeforeUpdate(row)\r\n        this.dialog.mode = 2\r\n        this.dialog.show = true\r\n        this.dialog.data = Object.assign({}, row)\r\n        this.dialog.data.groupId = this.global.groupId\r\n        if (!this.dialog.data.userName) {\r\n          this.dialog.data.createBy = this.$store.state.user.userInfo.userId\r\n          this.dialog.data.userName = this.$store.state.user.userInfo.userName\r\n          this.dialog.data.createTime = moment().format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n     保存前 校验\r\n     */\r\n    async validateBeforeSave () {\r\n      await this.$refs['form'].validate()\r\n      await this.validateNumeric()\r\n      if (!this.dialog.data.jobName) {\r\n        this.$message.info(`请选择作业处理器！`)\r\n        return Promise.reject(new Error())\r\n      }\r\n      if (this.dialog.mode === 1) {\r\n        // 新增保存前校验\r\n        let { data } = await this.$api.queryData({\r\n          params: {\r\n            mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.isExists',\r\n            isList: false,\r\n            jobName: this.dialog.data.jobName\r\n          }\r\n        })\r\n        if (data.data.count > 0) {\r\n          this.$message.info(`当前已存在启用的{${this.dialog.data.jobName}}指标，不允许新增！`)\r\n          return Promise.reject(new Error())\r\n        }\r\n      }\r\n      if (this.dialog.mode === 2) {\r\n        // 编辑保存前校验\r\n        let { data } = await this.$api.queryData({\r\n          params: {\r\n            mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.isExists',\r\n            isList: false,\r\n            jobName: this.dialog.data.jobName\r\n          }\r\n        })\r\n        if (data.data.count === 0) {\r\n          this.dialog.mode = 1\r\n        }\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n     （新增 mode=1、更新 mode=2）保存 操作\r\n     */\r\n    async onSave () {\r\n      try {\r\n        await this.validateBeforeSave()\r\n        this.dialog.loading = true\r\n        if (this.dialog.mode === 1) {\r\n          await this.$api.add({\r\n            data: {\r\n              mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.insertSelective',\r\n              ...this.dialog.data\r\n            }\r\n          })\r\n        } else {\r\n          let model = this.dialog.data\r\n          await this.$api.modify({\r\n            data: {\r\n              mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.updateByPrimaryKeySelective',\r\n              fid: model.fid,\r\n              threshold75: model.threshold75,\r\n              threshold95: model.threshold95,\r\n              threshold99: model.threshold99\r\n            }\r\n          })\r\n        }\r\n        this.dialog.loading = false\r\n        this.featchData(this.global.groupId)\r\n        this.dialog.show = false\r\n        this.$message.success(this.dialogMode.message)\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n     启用 停用 操作\r\n     */\r\n    async toggleEnable (status) {\r\n      if (this.grid.selectedRow.length === 0) {\r\n        this.$message.info('请选择指标！')\r\n        return\r\n      }\r\n      await this.$api.modify({\r\n        data: {\r\n          mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.toggleEnable',\r\n          status,\r\n          ids: JSON.stringify(this.grid.selectedRow.map(item => item.fid))\r\n        }\r\n      })\r\n      this.featchData()\r\n    },\r\n    /**\r\n     任务执行器下拉框 更改监听\r\n     */\r\n    onJobNameChange (index) {\r\n      this.dialog.data.jobName = this.jobExecutorSettins[index].jobName\r\n      this.dialog.data.describe = this.jobExecutorSettins[index].describe\r\n      this.dialog.data.executeFrequency = this.jobExecutorSettins[index].executeFrequency\r\n    },\r\n    /**\r\n     获取下拉树 数据\r\n     */\r\n    async loadNode (node, resolve) {\r\n      // 第一级节点 =》部署点\r\n      if (node.level === 0) {\r\n        let data = [{\r\n          id: 'root',\r\n          name: '执行器'\r\n        }]\r\n        return resolve(data)\r\n      }\r\n      // 叶节点 =》执行器\r\n      if (node.level > 1) return resolve([])\r\n      let { data } = await this.$api.queryData({\r\n        params: {\r\n          mapperId: 'com.bosssoft.monitor.dao.JobExecutorThresholdMapper.queryExecutors',\r\n          id: node.data.id\r\n        }\r\n      })\r\n      data.data.forEach((item) => {\r\n        item.leaf = true\r\n      })\r\n      resolve(data.data)\r\n    },\r\n    /**\r\n     下拉树节点 点击事件\r\n     */\r\n    async handleNodeClick (data, node) {\r\n      // 叶子节点点击\r\n      if (node.level > 1) {\r\n        // 获取data\r\n        this.global.groupId = node.data.id\r\n        this.global.executorName = node.data.name\r\n        this.global.address = node.data.address\r\n        this.featchData(this.global.groupId)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .taskrun-timeconsuming {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .grid-container {\r\n      flex: 1;\r\n    }\r\n  }\r\n  .el-tree {\r\n    background: none;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskrun-timeconsuming.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskrun-timeconsuming.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./taskrun-timeconsuming.vue?vue&type=template&id=6702fc9c&scoped=true&\"\nimport script from \"./taskrun-timeconsuming.vue?vue&type=script&lang=js&\"\nexport * from \"./taskrun-timeconsuming.vue?vue&type=script&lang=js&\"\nimport style0 from \"./taskrun-timeconsuming.vue?vue&type=style&index=0&id=6702fc9c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6702fc9c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-second-produce.vue?vue&type=style&index=0&id=4491622f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-second-produce.vue?vue&type=style&index=0&id=4491622f&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskrun-timeconsuming.vue?vue&type=style&index=0&id=6702fc9c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskrun-timeconsuming.vue?vue&type=style&index=0&id=6702fc9c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ticket-second-produce\"},[_c('div',{staticClass:\"grid-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.grid.loading),expression:\"grid.loading\"}],ref:\"table\",attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.grid.rows,\"height\":_vm.grid.height,\"highlight-current-row\":\"\"},on:{\"selection-change\":function (val) { return _vm.grid.selectedRow =val; }}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"align\":\"center\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"subName\",\"label\":\"行业开票情况监控指标\",\"align\":\"left\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"width\":\"200\",\"align\":\"center\",\"prop\":\"warnLevel\",\"label\":\"预警级别\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"编制人\",\"align\":\"left\",\"width\":\"200\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"width\":\"150\",\"align\":\"center\",\"label\":\"编制日期\",\"prop\":\"createTime\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"dateTime\")(scope.row.createTime,'YYYY-MM-DD')))]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"100\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{staticStyle:{\"font-size\":\"20px\",\"margin\":\"0 5px 0 0\"},attrs:{\"icon\":\"el-icon-edit-outline\"},on:{\"click\":function($event){return _vm.onUpdate(scope.row)}}}),_c('el-link',{staticStyle:{\"font-size\":\"20px\",\"margin\":\"0 5px 0 0\"},attrs:{\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.onView(scope.row)}}})]}}])})],1)],1),(_vm.dialog.show)?_c('el-dialog',{directives:[{name:\"dialog\",rawName:\"v-dialog\"}],attrs:{\"width\":\"700px\",\"visible\":_vm.dialog.show,\"modal-append-to-body\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"show\", $event)}}},[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{class:_vm.dialogMode.icon}),_c('span',[_vm._v(\"行业开票情况监控指标 —— \"+_vm._s(_vm.dialogMode.title))])]),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.dialog.rules,\"model\":_vm.dialog.data,\"label-width\":\"110px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"监控指标\",\"prop\":\"subName\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":_vm.dialog.mode!==1},on:{\"change\":_vm.onSubNameChange},model:{value:(_vm.dialog.data.subCode),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"subCode\", $$v)},expression:\"dialog.data.subCode\"}},_vm._l((_vm.targetSettins),function(item){return _c('el-option',{key:item.subCode,attrs:{\"value\":item.subCode,\"label\":item.subName}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"预警级别\",\"prop\":\"warnLevel\"}},[_c('el-radio',{attrs:{\"disabled\":\"\",\"label\":\"重要预警\"},model:{value:(_vm.dialog.data.warnLevel),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"warnLevel\", $$v)},expression:\"dialog.data.warnLevel\"}},[_vm._v(\"重要预警\")]),_c('el-radio',{attrs:{\"disabled\":\"\",\"label\":\"紧急预警\"},model:{value:(_vm.dialog.data.warnLevel),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"warnLevel\", $$v)},expression:\"dialog.data.warnLevel\"}},[_vm._v(\"紧急预警\")])],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"监控规则\",\"prop\":\"monitorRule\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialog.data.monitorRule),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"monitorRule\", $$v)},expression:\"dialog.data.monitorRule\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":_vm.thresholdLabel,\"prop\":\"threshold\"}},[_c('el-input',{attrs:{\"disabled\":_vm.dialog.mode===3},model:{value:(_vm.dialog.data.threshold),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"threshold\", $$v)},expression:\"dialog.data.threshold\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编制人\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialog.data.userName),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"userName\", $$v)},expression:\"dialog.data.userName\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编制时间\",\"prop\":\"createTime\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.dialog.data.createTime),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"createTime\", $$v)},expression:\"dialog.data.createTime\"}})],1)],1)],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.dialog.mode !== 3)?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"fa fa-save\"},on:{\"click\":_vm.onSave}},[_vm._v(\" 保存\")]):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ticket-second-produce\">\r\n<!--    <div class=\"tool-bar\">-->\r\n<!--&lt;!&ndash;      <el-link icon=\"el-icon-document-add\" @click=\"onAdd\">新增</el-link>&ndash;&gt;-->\r\n<!--&lt;!&ndash;      <div class=\"split-line\"></div>&ndash;&gt;-->\r\n<!--      <el-link icon=\"el-icon-circle-check\" @click=\"toggleEnable(1)\">启用</el-link>-->\r\n<!--      <div class=\"split-line\"></div>-->\r\n<!--      <el-link icon=\"el-icon-remove-outline\" @click=\"toggleEnable(0)\">停用</el-link>-->\r\n<!--      <div class=\"split-line\"></div>-->\r\n<!--      <el-link icon=\"el-icon-refresh\" @click=\"featchData\">刷新</el-link>-->\r\n<!--    </div>-->\r\n    <div class=\"grid-container\">\r\n      <el-table\r\n        border\r\n        stripe\r\n        ref=\"table\"\r\n        :data=\"grid.rows\"\r\n        :height=\"grid.height\"\r\n        highlight-current-row\r\n        v-loading=\"grid.loading\"\r\n        @selection-change=\"val => grid.selectedRow =val\"\r\n      >\r\n        <el-table-column type=\"index\" width=\"50\" align=\"center\" label=\"序号\"></el-table-column>\r\n        <el-table-column prop=\"subName\" label=\"行业开票情况监控指标\" align=\"left\" show-overflow-tooltip></el-table-column>\r\n        <el-table-column\r\n          width=\"200\"\r\n          align=\"center\"\r\n          prop=\"warnLevel\"\r\n          label=\"预警级别\"\r\n          show-overflow-tooltip\r\n        ></el-table-column>\r\n        <el-table-column prop=\"userName\" label=\"编制人\" align=\"left\" width=\"200\" show-overflow-tooltip></el-table-column>\r\n        <el-table-column\r\n          width=\"150\"\r\n          align=\"center\"\r\n          label=\"编制日期\"\r\n          prop=\"createTime\"\r\n          show-overflow-tooltip\r\n        >\r\n          <template slot-scope=\"scope\">{{scope.row.createTime | dateTime('YYYY-MM-DD')}}</template>\r\n        </el-table-column>\r\n<!--        <el-table-column width=\"100\" align=\"center\" prop=\"status\" label=\"状态\" show-overflow-tooltip>-->\r\n<!--          <template slot-scope=\"scope\">-->\r\n<!--            <el-tag v-if=\"scope.row.status === 1\" type=\"success\">启用</el-tag>-->\r\n<!--            <el-tag v-else type=\"danger\">停用</el-tag>-->\r\n<!--          </template>-->\r\n<!--        </el-table-column>-->\r\n        <el-table-column align=\"center\" width=\"100\" label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-link\r\n              style=\"font-size: 20px;margin: 0 5px 0 0;\"\r\n              icon=\"el-icon-edit-outline\"\r\n              @click=\"onUpdate(scope.row)\"\r\n            ></el-link>\r\n            <el-link\r\n              style=\"font-size: 20px;margin: 0 5px 0 0;\"\r\n              icon=\"el-icon-view\"\r\n              @click=\"onView(scope.row)\"\r\n            ></el-link>\r\n<!--            <el-link-->\r\n<!--              style=\"font-size: 20px;margin: 0 5px 0 0;\"-->\r\n<!--              icon=\"el-icon-delete\"-->\r\n<!--              @click=\"onDelete(scope.row)\"-->\r\n<!--            ></el-link>-->\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog\r\n      v-dialog\r\n      width=\"700px\"\r\n      v-if=\"dialog.show\"\r\n      :visible.sync=\"dialog.show\"\r\n      :modal-append-to-body=\"false\"\r\n      :close-on-click-modal=\"false\"\r\n    >\r\n      <div slot=\"title\" class=\"title\">\r\n        <i :class=\"dialogMode.icon\"></i>\r\n        <span>行业开票情况监控指标 —— {{dialogMode.title}}</span>\r\n      </div>\r\n      <el-form ref=\"form\" :rules=\"dialog.rules\" :model=\"dialog.data\" label-width=\"110px\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"监控指标\" prop=\"subName\">\r\n              <el-select @change=\"onSubNameChange\" :disabled=\"dialog.mode!==1\" v-model=\"dialog.data.subCode\" style=\"width: 100%;\">\r\n                <el-option v-for=\"item in targetSettins\" :key=\"item.subCode\" :value=\"item.subCode\" :label=\"item.subName\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"预警级别\" prop=\"warnLevel\">\r\n              <el-radio disabled v-model=\"dialog.data.warnLevel\" label=\"重要预警\">重要预警</el-radio>\r\n              <el-radio disabled v-model=\"dialog.data.warnLevel\" label=\"紧急预警\">紧急预警</el-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"监控规则\" prop=\"monitorRule\">\r\n              <el-input disabled v-model=\"dialog.data.monitorRule\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item :label=\"thresholdLabel\" prop=\"threshold\">\r\n              <el-input :disabled=\"dialog.mode===3\" v-model=\"dialog.data.threshold\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"编制人\" prop=\"userName\">\r\n              <el-input disabled v-model=\"dialog.data.userName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"编制时间\" prop=\"createTime\">\r\n              <el-date-picker\r\n                disabled\r\n                v-model=\"dialog.data.createTime\"\r\n                type=\"date\"\r\n                placeholder=\"选择日期\"\r\n                style=\"width: 100%;\"\r\n              ></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"onSave\" icon=\"fa fa-save\" v-if=\"dialog.mode !== 3\">&nbsp;保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nexport default {\r\n  name: 'ticket-second-produce',\r\n  data () {\r\n    const validateThreshold = (rule, value, next) => {\r\n      let regular = /^(-?\\d+)(\\.\\d+)?$/\r\n      let message = '数字'\r\n      if (this.dialog.data.subCode !== '002') {\r\n        regular = /^(-?\\d+)$/\r\n        message = '整数'\r\n      }\r\n      if (!value && value !== 0) {\r\n        next('请输入阈值！')\r\n      } else if (!regular.test(value)) {\r\n        next('请输入' + message + '！')\r\n      } else if (value <= 0) {\r\n        next('请输入大于0的' + message + '！')\r\n      } else {\r\n        next()\r\n      }\r\n    }\r\n    return {\r\n      grid: {\r\n        rows: [],\r\n        height: null,\r\n        loading: false,\r\n        selectedRow: []\r\n      },\r\n      dialog: {\r\n        mode: null,\r\n        show: false,\r\n        data: {\r\n          typeCode: null,\r\n          typeName: null,\r\n          subName: null,\r\n          warnLevel: null,\r\n          monitorRule: '>',\r\n          threshold: null,\r\n          status: null,\r\n          createBy: null,\r\n          userName: null,\r\n          createTime: null\r\n        },\r\n        rules: {\r\n          subName: [\r\n            { required: true, message: '请选择监控指标！' }\r\n          ],\r\n          threshold: [\r\n            {\r\n              required: true,\r\n              validator: validateThreshold,\r\n              trigger: 'blur'\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      targetSettins: [{\r\n        subName: '接口开票连续失败次数',\r\n        subCode: '001'\r\n      }, {\r\n        subName: '开票耗时/平均耗时',\r\n        subCode: '002'\r\n      }, {\r\n        subName: '制票异常笔数/开票笔数',\r\n        subCode: '003'\r\n      }, {\r\n        subName: '制票失败次数',\r\n        subCode: '004'\r\n      }]\r\n    }\r\n  },\r\n  computed: {\r\n    dialogMode () {\r\n      switch (this.dialog.mode) {\r\n        case 1:\r\n          return { title: '新增', icon: 'el-icon-document-add', message: '添加成功！' }\r\n        case 2:\r\n          return { title: '编辑', icon: 'el-icon-edit-outline', message: '修改成功！' }\r\n        case 3:\r\n          return { title: '查看', icon: 'el-icon-document' }\r\n        default:\r\n          return {}\r\n      }\r\n    },\r\n    thresholdLabel () {\r\n      switch (this.dialog.data.subCode) {\r\n        case '001':\r\n        case '004':\r\n          return '次数'\r\n        case '002':\r\n        case '003':\r\n          return '比例'\r\n        default:\r\n          return '数值'\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.featchData()\r\n  },\r\n  methods: {\r\n    /**\r\n      获取 主页面表格数据\r\n     */\r\n    async featchData () {\r\n      this.grid.loading = true\r\n      let { data } = await this.$api.queryData({\r\n        params: {\r\n          mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.thresholds',\r\n          typeCode: '12'\r\n          // appId: $store.state.system.appId\r\n        }\r\n      })\r\n      this.grid.loading = false\r\n      this.grid.rows = data.data\r\n    },\r\n    /**\r\n      输入数字合法性 校验\r\n     */\r\n    async validateNumeric () {\r\n      let regPos = /^(-?\\d+)(\\.\\d+)?$/ // 浮点数\r\n      if ((this.dialog.data.threshold && !regPos.test(this.dialog.data.threshold))) {\r\n        this.$message.info(`指标阈值必须为数字！`)\r\n        return Promise.reject(new Error())\r\n      }\r\n      if (this.dialog.data.threshold <= 0) {\r\n        this.$message.info('指标阈值必须＞0！')\r\n        return Promise.reject(new Error())\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n      新增前 校验\r\n     */\r\n    // async validateBeforeAdd () {\r\n    //   return Promise.resolve()\r\n    // },\r\n    /**\r\n      新增对话框 初始化\r\n     */\r\n    async onAdd () {\r\n      try {\r\n        // await this.validateBeforeAdd()\r\n        let model = {\r\n          typeCode: '12',\r\n          typeName: '秒级制票',\r\n          monitorRule: '>',\r\n          threshold: null,\r\n          createBy: this.$store.state.user.userInfo.userId,\r\n          userName: this.$store.state.user.userInfo.userName,\r\n          createTime: moment().format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n        this.dialog.mode = 1\r\n        this.dialog.show = true\r\n        this.dialog.data = model\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n      查看对话框 初始化\r\n     */\r\n    onView (row) {\r\n      this.dialog.mode = 3\r\n      this.dialog.show = true\r\n      this.dialog.data = Object.assign({}, row)\r\n    },\r\n    /**\r\n      删除前 校验\r\n     */\r\n    async validateBeforeDelete (row) {\r\n      if (row.status === 1) {\r\n        this.$message.info('当前指标已启用，不允许删除！')\r\n        return Promise.reject(new Error())\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n      删除 操作\r\n     */\r\n    async onDelete (row) {\r\n      try {\r\n        await this.validateBeforeDelete(row)\r\n        this.$confirm('您确定要删除当前选中的记录吗?', '确认删除', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(async () => {\r\n          await this.$api.remove({\r\n            params: {\r\n              mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.deleteByPrimaryKey',\r\n              fid: row.fid\r\n            }\r\n          })\r\n          this.featchData()\r\n          this.$message.success('删除成功！')\r\n        }).catch(() => { })\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n      更新对话框弹出前 校验\r\n     */\r\n    async validateBeforeUpdate (row) {\r\n      if (row.status === 1) {\r\n        this.$message.info('当前指标已启用，不允许编辑！')\r\n        return Promise.reject(new Error())\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n      更新对话框 初始化\r\n     */\r\n    async onUpdate (row) {\r\n      try {\r\n        // await this.validateBeforeUpdate(row)\r\n        this.dialog.mode = 2\r\n        this.dialog.show = true\r\n        this.dialog.data = Object.assign({}, row)\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n      保存前 校验\r\n     */\r\n    async validateBeforeSave () {\r\n      await this.$refs['form'].validate()\r\n      await this.validateNumeric()\r\n      if (this.dialog.mode === 1) {\r\n        // 新增保存前校验\r\n        let { data } = await this.$api.queryData({\r\n          params: {\r\n            mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.isExists',\r\n            isList: false,\r\n            typeCode: '12',\r\n            subCode: this.dialog.data.subCode\r\n          }\r\n        })\r\n        if (data.data.count > 0) {\r\n          this.$message.info(`当前已存在启用的{${this.dialog.data.subName}}指标，不允许新增！`)\r\n          return Promise.reject(new Error())\r\n        }\r\n      }\r\n      if (this.dialog.mode === 2) {\r\n        // 编辑保存前校验\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n     （新增 mode=1、更新 mode=2）保存 操作\r\n     */\r\n    async onSave () {\r\n      try {\r\n        await this.validateBeforeSave()\r\n        new Promise(async (resolve) => {\r\n          if (this.dialog.mode === 1) {\r\n            this.$confirm('是否立即启用该指标?', '启用确认', {\r\n              confirmButtonText: '是',\r\n              cancelButtonText: '否',\r\n              type: 'info'\r\n            }).then(() => {\r\n              this.dialog.data.status = 1\r\n            }).catch(() => {\r\n              this.dialog.data.status = 0\r\n            }).then(async () => {\r\n              await this.$api.add({\r\n                data: {\r\n                  mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.insertSelective',\r\n                  ...this.dialog.data\r\n                }\r\n              })\r\n              resolve()\r\n            })\r\n          } else {\r\n            let model = this.dialog.data\r\n            await this.$api.modify({\r\n              data: {\r\n                mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.updateByPrimaryKeySelective',\r\n                fid: model.fid,\r\n                threshold: model.threshold\r\n              }\r\n            })\r\n            resolve()\r\n          }\r\n        }).then(() => {\r\n          this.featchData()\r\n          this.dialog.show = false\r\n          this.$message.success(this.dialogMode.message)\r\n        })\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n      启用 停用 操作\r\n     */\r\n    async toggleEnable (status) {\r\n      if (this.grid.selectedRow.length === 0) {\r\n        this.$message.info('请选择指标！')\r\n        return\r\n      }\r\n      await this.$api.modify({\r\n        data: {\r\n          mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.toggleEnable',\r\n          status,\r\n          ids: JSON.stringify(this.grid.selectedRow.map(item => item.fid))\r\n        }\r\n      })\r\n      this.featchData()\r\n    },\r\n    /**\r\n      指标选择后 事件\r\n     */\r\n    onSubNameChange (subCode) {\r\n      if (subCode === '001' || subCode === '002') {\r\n        this.dialog.data.warnLevel = '紧急预警'\r\n      } else if (subCode === '003' || subCode === '004') {\r\n        this.dialog.data.warnLevel = '重要预警'\r\n      }\r\n      this.dialog.data.threshold = null\r\n      this.dialog.data.subName = this.targetSettins.find(item => item.subCode === subCode).subName\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .ticket-second-produce {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .grid-container {\r\n      flex: 1;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-second-produce.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-second-produce.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ticket-second-produce.vue?vue&type=template&id=4491622f&scoped=true&\"\nimport script from \"./ticket-second-produce.vue?vue&type=script&lang=js&\"\nexport * from \"./ticket-second-produce.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ticket-second-produce.vue?vue&type=style&index=0&id=4491622f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4491622f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ticket-traditional-produce\"},[_c('div',{staticClass:\"grid-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.grid.loading),expression:\"grid.loading\"}],ref:\"table\",attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.grid.rows,\"height\":_vm.grid.height,\"highlight-current-row\":\"\"},on:{\"selection-change\":function (val) { return _vm.grid.selectedRow =val; }}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"align\":\"center\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"subName\",\"label\":\"行业开票情况监控指标\",\"align\":\"left\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"width\":\"200\",\"align\":\"center\",\"prop\":\"warnLevel\",\"label\":\"预警级别\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"编制人\",\"align\":\"left\",\"width\":\"200\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"width\":\"150\",\"align\":\"center\",\"label\":\"编制日期\",\"prop\":\"createTime\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"dateTime\")(scope.row.createTime,'YYYY-MM-DD')))]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"100\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{staticStyle:{\"font-size\":\"20px\",\"margin\":\"0 5px 0 0\"},attrs:{\"icon\":\"el-icon-edit-outline\"},on:{\"click\":function($event){return _vm.onUpdate(scope.row)}}}),_c('el-link',{staticStyle:{\"font-size\":\"20px\",\"margin\":\"0 5px 0 0\"},attrs:{\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.onView(scope.row)}}})]}}])})],1)],1),(_vm.dialog.show)?_c('el-dialog',{directives:[{name:\"dialog\",rawName:\"v-dialog\"}],attrs:{\"width\":\"700px\",\"visible\":_vm.dialog.show,\"modal-append-to-body\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"show\", $event)}}},[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{class:_vm.dialogMode.icon}),_c('span',[_vm._v(\"行业开票情况监控指标 —— \"+_vm._s(_vm.dialogMode.title))])]),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.dialog.rules,\"model\":_vm.dialog.data,\"label-width\":\"110px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"监控指标\",\"prop\":\"subName\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":_vm.dialog.mode!==1},on:{\"change\":_vm.onSubNameChange},model:{value:(_vm.dialog.data.subCode),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"subCode\", $$v)},expression:\"dialog.data.subCode\"}},_vm._l((_vm.targetSettins),function(item){return _c('el-option',{key:item.subCode,attrs:{\"value\":item.subCode,\"label\":item.subName}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"预警级别\",\"prop\":\"warnLevel\"}},[_c('el-radio',{attrs:{\"disabled\":\"\",\"label\":\"重要预警\"},model:{value:(_vm.dialog.data.warnLevel),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"warnLevel\", $$v)},expression:\"dialog.data.warnLevel\"}},[_vm._v(\"重要预警\")]),_c('el-radio',{attrs:{\"disabled\":\"\",\"label\":\"紧急预警\"},model:{value:(_vm.dialog.data.warnLevel),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"warnLevel\", $$v)},expression:\"dialog.data.warnLevel\"}},[_vm._v(\"紧急预警\")])],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"监控规则\",\"prop\":\"monitorRule\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialog.data.monitorRule),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"monitorRule\", $$v)},expression:\"dialog.data.monitorRule\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":_vm.thresholdLabel,\"prop\":\"threshold\"}},[_c('el-input',{attrs:{\"disabled\":_vm.dialog.mode===3},model:{value:(_vm.dialog.data.threshold),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"threshold\", $$v)},expression:\"dialog.data.threshold\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编制人\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialog.data.userName),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"userName\", $$v)},expression:\"dialog.data.userName\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"编制时间\",\"prop\":\"createTime\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.dialog.data.createTime),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"createTime\", $$v)},expression:\"dialog.data.createTime\"}})],1)],1)],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.dialog.mode !== 3)?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"fa fa-save\"},on:{\"click\":_vm.onSave}},[_vm._v(\" 保存\")]):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ticket-traditional-produce\">\r\n<!--    <div class=\"tool-bar\">-->\r\n<!--&lt;!&ndash;      <el-link icon=\"el-icon-document-add\" @click=\"onAdd\">新增</el-link>&ndash;&gt;-->\r\n<!--&lt;!&ndash;      <div class=\"split-line\"></div>&ndash;&gt;-->\r\n<!--      <el-link icon=\"el-icon-circle-check\" @click=\"toggleEnable(1)\">启用</el-link>-->\r\n<!--      <div class=\"split-line\"></div>-->\r\n<!--      <el-link icon=\"el-icon-remove-outline\" @click=\"toggleEnable(0)\">停用</el-link>-->\r\n<!--      <div class=\"split-line\"></div>-->\r\n<!--      <el-link icon=\"el-icon-refresh\" @click=\"featchData\">刷新</el-link>-->\r\n<!--    </div>-->\r\n    <div class=\"grid-container\">\r\n      <el-table\r\n        border\r\n        stripe\r\n        ref=\"table\"\r\n        :data=\"grid.rows\"\r\n        :height=\"grid.height\"\r\n        highlight-current-row\r\n        v-loading=\"grid.loading\"\r\n        @selection-change=\"val => grid.selectedRow =val\"\r\n      >\r\n        <el-table-column type=\"index\" width=\"50\" align=\"center\" label=\"序号\"></el-table-column>\r\n        <el-table-column prop=\"subName\" label=\"行业开票情况监控指标\" align=\"left\" show-overflow-tooltip></el-table-column>\r\n        <el-table-column\r\n          width=\"200\"\r\n          align=\"center\"\r\n          prop=\"warnLevel\"\r\n          label=\"预警级别\"\r\n          show-overflow-tooltip\r\n        ></el-table-column>\r\n        <el-table-column prop=\"userName\" label=\"编制人\" align=\"left\" width=\"200\" show-overflow-tooltip></el-table-column>\r\n        <el-table-column\r\n          width=\"150\"\r\n          align=\"center\"\r\n          label=\"编制日期\"\r\n          prop=\"createTime\"\r\n          show-overflow-tooltip\r\n        >\r\n          <template slot-scope=\"scope\">{{scope.row.createTime | dateTime('YYYY-MM-DD')}}</template>\r\n        </el-table-column>\r\n<!--        <el-table-column width=\"100\" align=\"center\" prop=\"status\" label=\"状态\" show-overflow-tooltip>-->\r\n<!--          <template slot-scope=\"scope\">-->\r\n<!--            <el-tag v-if=\"scope.row.status === 1\" type=\"success\">启用</el-tag>-->\r\n<!--            <el-tag v-else type=\"danger\">停用</el-tag>-->\r\n<!--          </template>-->\r\n<!--        </el-table-column>-->\r\n        <el-table-column align=\"center\" width=\"100\" label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-link\r\n              style=\"font-size: 20px;margin: 0 5px 0 0;\"\r\n              icon=\"el-icon-edit-outline\"\r\n              @click=\"onUpdate(scope.row)\"\r\n            ></el-link>\r\n            <el-link\r\n              style=\"font-size: 20px;margin: 0 5px 0 0;\"\r\n              icon=\"el-icon-view\"\r\n              @click=\"onView(scope.row)\"\r\n            ></el-link>\r\n<!--            <el-link-->\r\n<!--              style=\"font-size: 20px;margin: 0 5px 0 0;\"-->\r\n<!--              icon=\"el-icon-delete\"-->\r\n<!--              @click=\"onDelete(scope.row)\"-->\r\n<!--            ></el-link>-->\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog\r\n      v-dialog\r\n      width=\"700px\"\r\n      v-if=\"dialog.show\"\r\n      :visible.sync=\"dialog.show\"\r\n      :modal-append-to-body=\"false\"\r\n      :close-on-click-modal=\"false\"\r\n    >\r\n      <div slot=\"title\" class=\"title\">\r\n        <i :class=\"dialogMode.icon\"></i>\r\n        <span>行业开票情况监控指标 —— {{dialogMode.title}}</span>\r\n      </div>\r\n      <el-form ref=\"form\" :rules=\"dialog.rules\" :model=\"dialog.data\" label-width=\"110px\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"监控指标\" prop=\"subName\">\r\n              <el-select @change=\"onSubNameChange\" :disabled=\"dialog.mode!==1\" v-model=\"dialog.data.subCode\" style=\"width: 100%;\">\r\n                <el-option v-for=\"item in targetSettins\" :key=\"item.subCode\" :value=\"item.subCode\" :label=\"item.subName\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"预警级别\" prop=\"warnLevel\">\r\n              <el-radio disabled v-model=\"dialog.data.warnLevel\" label=\"重要预警\">重要预警</el-radio>\r\n              <el-radio disabled v-model=\"dialog.data.warnLevel\" label=\"紧急预警\">紧急预警</el-radio>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"监控规则\" prop=\"monitorRule\">\r\n              <el-input disabled v-model=\"dialog.data.monitorRule\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item :label=\"thresholdLabel\" prop=\"threshold\">\r\n              <el-input :disabled=\"dialog.mode===3\" v-model=\"dialog.data.threshold\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"编制人\" prop=\"userName\">\r\n              <el-input disabled v-model=\"dialog.data.userName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"编制时间\" prop=\"createTime\">\r\n              <el-date-picker\r\n                disabled\r\n                v-model=\"dialog.data.createTime\"\r\n                type=\"date\"\r\n                placeholder=\"选择日期\"\r\n                style=\"width: 100%;\"\r\n              ></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"onSave\" icon=\"fa fa-save\" v-if=\"dialog.mode !== 3\">&nbsp;保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nexport default {\r\n  name: 'ticket-traditional-produce',\r\n  data () {\r\n    const validateThreshold = (rule, value, next) => {\r\n      let regular = /^(-?\\d+)(\\.\\d+)?$/\r\n      let message = '数字'\r\n      if (this.dialog.data.subCode !== '002') {\r\n        regular = /^(-?\\d+)$/\r\n        message = '整数'\r\n      }\r\n      if (!value && value !== 0) {\r\n        next('请输入阈值！')\r\n      } else if (!regular.test(value)) {\r\n        next('请输入' + message + '！')\r\n      } else if (value <= 0) {\r\n        next('请输入大于0的' + message + '！')\r\n      } else {\r\n        next()\r\n      }\r\n    }\r\n    return {\r\n      grid: {\r\n        rows: [],\r\n        height: null,\r\n        loading: false,\r\n        selectedRow: []\r\n      },\r\n      dialog: {\r\n        mode: null,\r\n        show: false,\r\n        data: {\r\n          typeCode: null,\r\n          typeName: null,\r\n          subName: null,\r\n          warnLevel: null,\r\n          monitorRule: '>',\r\n          threshold: null,\r\n          status: null,\r\n          createBy: null,\r\n          userName: null,\r\n          createTime: null\r\n        },\r\n        rules: {\r\n          subName: [\r\n            { required: true, message: '请选择监控指标！' }\r\n          ],\r\n          threshold: [\r\n            {\r\n              required: true,\r\n              validator: validateThreshold,\r\n              trigger: 'blur'\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      targetSettins: [{\r\n        subName: '接口开票连续失败次数',\r\n        subCode: '001'\r\n      }, {\r\n        subName: '开票耗时/平均耗时',\r\n        subCode: '002'\r\n      }, {\r\n        subName: '上报异常笔数/开票笔数',\r\n        subCode: '003'\r\n      }, {\r\n        subName: '归档异常笔数/开票笔数',\r\n        subCode: '004'\r\n      }]\r\n    }\r\n  },\r\n  computed: {\r\n    dialogMode () {\r\n      switch (this.dialog.mode) {\r\n        case 1:\r\n          return { title: '新增', icon: 'el-icon-document-add', message: '添加成功！' }\r\n        case 2:\r\n          return { title: '编辑', icon: 'el-icon-edit-outline', message: '修改成功！' }\r\n        case 3:\r\n          return { title: '查看', icon: 'el-icon-document' }\r\n        default:\r\n          return {}\r\n      }\r\n    },\r\n    thresholdLabel () {\r\n      switch (this.dialog.data.subCode) {\r\n        case '001':\r\n          return '次数'\r\n        case '002':\r\n        case '003':\r\n        case '004':\r\n          return '比例'\r\n        default:\r\n          return '数值'\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.featchData()\r\n  },\r\n  methods: {\r\n    /**\r\n      获取 主页面表格数据\r\n     */\r\n    async featchData () {\r\n      this.grid.loading = true\r\n      let { data } = await this.$api.queryData({\r\n        params: {\r\n          mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.thresholds',\r\n          typeCode: '11'\r\n          // appId: $store.state.system.appId\r\n        }\r\n      })\r\n      this.grid.loading = false\r\n      this.grid.rows = data.data\r\n    },\r\n    /**\r\n      输入数字合法性 校验\r\n     */\r\n    async validateNumeric () {\r\n      let regPos = /^(-?\\d+)(\\.\\d+)?$/ // 浮点数\r\n      if ((this.dialog.data.threshold && !regPos.test(this.dialog.data.threshold))) {\r\n        this.$message.info(`指标阈值必须为数字！`)\r\n        return Promise.reject(new Error())\r\n      }\r\n      if (this.dialog.data.threshold <= 0) {\r\n        this.$message.info('指标阈值必须＞0！')\r\n        return Promise.reject(new Error())\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n      新增对话框弹出前 校验\r\n     */\r\n    // async validateBeforeAdd () {\r\n    //   return Promise.resolve()\r\n    // },\r\n    /**\r\n      新增对话框 初始化\r\n     */\r\n    async onAdd () {\r\n      try {\r\n        // await this.validateBeforeAdd()\r\n        let model = {\r\n          typeCode: '11',\r\n          typeName: '传统制票',\r\n          monitorRule: '>',\r\n          threshold: null,\r\n          createBy: this.$store.state.user.userInfo.userId,\r\n          userName: this.$store.state.user.userInfo.userName,\r\n          createTime: moment().format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n        this.dialog.mode = 1\r\n        this.dialog.show = true\r\n        this.dialog.data = model\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n      查看对话框 初始化\r\n     */\r\n    onView (row) {\r\n      this.dialog.mode = 3\r\n      this.dialog.show = true\r\n      this.dialog.data = Object.assign({}, row)\r\n    },\r\n    /**\r\n      删除前 校验\r\n     */\r\n    async validateBeforeDelete (row) {\r\n      if (row.status === 1) {\r\n        this.$message.info('当前指标已启用，不允许删除！')\r\n        return Promise.reject(new Error())\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n      删除 操作\r\n     */\r\n    async onDelete (row) {\r\n      try {\r\n        await this.validateBeforeDelete(row)\r\n        this.$confirm('您确定要删除当前选中的记录吗?', '确认删除', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(async () => {\r\n          await this.$api.remove({\r\n            params: {\r\n              mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.deleteByPrimaryKey',\r\n              fid: row.fid\r\n            }\r\n          })\r\n          this.featchData()\r\n          this.$message.success('删除成功！')\r\n        }).catch(() => { })\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n     更新对话框弹出前 校验\r\n     */\r\n    async validateBeforeUpdate (row) {\r\n      if (row.status === 1) {\r\n        this.$message.info('当前指标已启用，不允许编辑！')\r\n        return Promise.reject(new Error())\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n      更新对话框 初始化\r\n     */\r\n    async onUpdate (row) {\r\n      try {\r\n        // await this.validateBeforeUpdate(row)\r\n        this.dialog.mode = 2\r\n        this.dialog.show = true\r\n        this.dialog.data = Object.assign({}, row)\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n      保存前 校验\r\n     */\r\n    async validateBeforeSave () {\r\n      await this.$refs['form'].validate()\r\n      await this.validateNumeric()\r\n      if (this.dialog.mode === 1) {\r\n        // 新增保存前校验\r\n        let { data } = await this.$api.queryData({\r\n          params: {\r\n            mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.isExists',\r\n            isList: false,\r\n            typeCode: '11',\r\n            subCode: this.dialog.data.subCode\r\n          }\r\n        })\r\n        if (data.data.count > 0) {\r\n          this.$message.info(`当前已存在启用的{${this.dialog.data.subName}}指标，不允许新增！`)\r\n          return Promise.reject(new Error())\r\n        }\r\n      }\r\n      if (this.dialog.mode === 2) {\r\n        // 编辑保存前校验\r\n      }\r\n      return Promise.resolve()\r\n    },\r\n    /**\r\n     （新增 mode=1、更新 mode=2）保存 操作\r\n     */\r\n    async onSave () {\r\n      try {\r\n        await this.validateBeforeSave()\r\n        new Promise(async (resolve) => {\r\n          if (this.dialog.mode === 1) {\r\n            this.$confirm('是否立即启用该指标?', '启用确认', {\r\n              confirmButtonText: '是',\r\n              cancelButtonText: '否',\r\n              type: 'info'\r\n            }).then(() => {\r\n              this.dialog.data.status = 1\r\n            }).catch(() => {\r\n              this.dialog.data.status = 0\r\n            }).then(async () => {\r\n              await this.$api.add({\r\n                data: {\r\n                  mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.insertSelective',\r\n                  ...this.dialog.data\r\n                }\r\n              })\r\n              resolve()\r\n            })\r\n          } else {\r\n            let model = this.dialog.data\r\n            await this.$api.modify({\r\n              data: {\r\n                mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.updateByPrimaryKeySelective',\r\n                fid: model.fid,\r\n                threshold: model.threshold\r\n              }\r\n            })\r\n            resolve()\r\n          }\r\n        }).then(() => {\r\n          this.featchData()\r\n          this.dialog.show = false\r\n          this.$message.success(this.dialogMode.message)\r\n        })\r\n      } catch (error) {\r\n        error.message && this.$message.error(error.message)\r\n      }\r\n    },\r\n    /**\r\n      启用 停用 操作\r\n     */\r\n    async toggleEnable (status) {\r\n      if (this.grid.selectedRow.length === 0) {\r\n        this.$message.info('请选择指标！')\r\n        return\r\n      }\r\n      await this.$api.modify({\r\n        data: {\r\n          mapperId: 'com.bosssoft.monitor.dao.ThresholdMapper.toggleEnable',\r\n          status,\r\n          ids: JSON.stringify(this.grid.selectedRow.map(item => item.fid))\r\n        }\r\n      })\r\n      this.featchData()\r\n    },\r\n    /**\r\n      指标选择后 事件\r\n     */\r\n    onSubNameChange (subCode) {\r\n      if (subCode === '001' || subCode === '002') {\r\n        this.dialog.data.warnLevel = '紧急预警'\r\n      } else if (subCode === '003' || subCode === '004') {\r\n        this.dialog.data.warnLevel = '重要预警'\r\n      }\r\n      this.dialog.data.threshold = null\r\n      this.dialog.data.subName = this.targetSettins.find(item => item.subCode === subCode).subName\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .ticket-traditional-produce {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .grid-container {\r\n      flex: 1;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-traditional-produce.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-traditional-produce.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ticket-traditional-produce.vue?vue&type=template&id=5466e452&scoped=true&\"\nimport script from \"./ticket-traditional-produce.vue?vue&type=script&lang=js&\"\nexport * from \"./ticket-traditional-produce.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ticket-traditional-produce.vue?vue&type=style&index=0&id=5466e452&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5466e452\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-traditional-produce.vue?vue&type=style&index=0&id=5466e452&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-traditional-produce.vue?vue&type=style&index=0&id=5466e452&lang=scss&scoped=true&\""],"sourceRoot":""}